# 接口定义

## HTTP API（FastAPI）
- `POST /tasks`
  - 请求：`{ source_url: string, platform?: string, options?: object }`
  - 响应：`{ id: string, status: "queued", progress: 0.0 }`
- `GET /tasks/{id}`
  - 响应：`{ id, status, progress, error?, results? }`
- `GET /tasks/{id}/results`
  - 响应：`{ srt_url: string, markdown_url: string, meta: object }`

## 事件负载（演示版）
- `task.download`：`{ task_id, source_url }`
- `task.preprocess`：`{ task_id, file_url }`
- `task.transcribe`：`{ task_id, file_url }`
- `task.format`：`{ task_id, transcript }`

## 数据模型（Pydantic）
- `TaskCreateRequest`、`TaskSummary`、`TaskDetail`、`TaskResults`、`TaskStatus`